<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #box {
            width: 300px;
            height: 300px;
            background-color: beige;
            margin: 10%;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            padding: 40px 0 40px 60px;
            box-sizing: border-box;
            box-shadow: 5px 10px 10px rgba(0,0,0,0.5);
        }
        #box div {
            height: 30px;
            margin: 5px;
            background-color: aquamarine;
            box-shadow: 5px 10px 10px rgba(0,0,0,0.5);
        }
        div:nth-of-type(1){
            width: 3%;
        }
        div:nth-of-type(2){
            width: 10%;
        }
        div:nth-of-type(3){
            width: 30%;
        }
        div:nth-of-type(4){
            width: 47%;
        }
        table{
            border-collapse: collapse;
            width: 300px;
            height: 300px;
            box-shadow: 5px 10px 10px rgba(0,0,0,0.75);
            text-align: center;
            font-weight: bold;
            color: white;
            margin: 10%;
        }
        tr:nth-of-type(1) td{
            background-color: rgb(97, 8, 41);
        }
        td {
            border: 2px solid white;
            background-color: rgb(26, 77, 78);
        }
    </style>
</head>
<body>
    <script>
        // let ran = Math.floor(Math.random()*100);
        let str = 10000//+prompt("몇번 실행할까요?")
        let arr = [0,0,0,0];
        let arr1 = [];
        let list = `<button onclick="location.reload(true)">새로고침</button>
                    <button onclick="alert("네")">팝업</button>`;
        let inp = 0;
        let inp1 = 0;
        let inp2 = 0;
        let inp3 = 0;
        for (let i = 0; i < str; i++) {
            ran = Math.floor(Math.random()*100);
            if (ran<3) {
                inp += 1;
                arr.splice(0,1,inp);
            } else if (ran < 13) {
                inp1 += 1;
                arr.splice(1,1,inp1);
            } else if (ran < 53) {
                inp2 += 1;
                arr.splice(2,1,inp2);
            } else {
                inp3 += 1;
                arr.splice(3,1,inp3);
            }
        }
        console.log(arr);
        let uni = arr[0];
        let rea = arr[1];
        let mag = arr[2];
        let nol = arr[3];
        arr1.splice(0,1,uni/(str/100));
        arr1.splice(1,1,rea/(str/100));
        arr1.splice(2,1,mag/(str/100));
        arr1.splice(3,1,nol/(str/100));
        console.log(arr1);
        
        list +=`        <table>`
        list +=`        <tr>`
        list +=`                <td>아이템</td>`
        list +=`                <td>확률</td>`
        list +=`                <td>갯수</td>`
        list +=`                <td>검증</td>`
        list +=`            </tr>`
        list +=`            <tr>`
        list +=`                <td>유니크</td>`
        list +=`                <td>3%</td>`
        list +=`                <td>${uni}</td>`
        list +=`                <td>${uni/(str/100)}</td>`
        list +=`            </tr>`
        list +=`            <tr>`
        list +=`                <td>레어</td>`
        list +=`                <td>10%</td>`
        list +=`                <td>${rea}</td>`
        list +=`                <td>${rea/(str/100)}</td>`
        list +=`            </tr>`
        list +=`            <tr>`
        list +=`                <td>매직</td>`
        list +=`                <td>40%</td>`
        list +=`                <td>${mag}</td>`
        list +=`                <td>${mag/(str/100)}</td>`
        list +=`            </tr>`
        list +=`            <tr>`
        list +=`                <td>일반</td>`
        list +=`                <td>47%</td>`
        list +=`                <td>${nol}</td>`
        list +=`                <td>${nol/(str/100)}</td>`
        list +=`            </tr>`
        list +=`            <tr>`
        list +=`                <td>검증</td>`
        list +=`                <td>100%</td>`
        list +=`                <td>${uni+rea+mag+nol}</td>`
        list +=`                <td>${arr1[0] + arr1[1] + arr1[2] + arr1[3]}%</td>`
        list +=`            </tr>`
        list +=`        </table>`
        document.body.innerHTML = list;
    </script>
    <div id = "box">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
</div>
</body>
</html>